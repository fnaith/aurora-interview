(this.webpackJsonpSmartbeeExam1=this.webpackJsonpSmartbeeExam1||[]).push([[0],{54:function(e,n,t){e.exports=t(67)},67:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(9),u=t.n(o),i=t(103),c=t(102),l=(t(59),t(60),t(38)),m=t(30),s=t(44),d=function e(){Object(m.a)(this,e),this.name=void 0,this.content=void 0,this.name="",this.content=""};function f(e,n){var t="{url=".concat(e,",error=").concat(n,"}");console.error(t),alert(t)}var h=function(){function e(){Object(m.a)(this,e),this._apiPath="/v1",this._initted=void 0,this._updateControlPanel=void 0,this._menuForms=void 0,this._menuInfos=void 0,this._userInfos=void 0,this._initted=!1,this._menuForms=[],this._menuInfos=[],this._userInfos=[]}return Object(s.a)(e,[{key:"formatTime",value:function(n){var t=new Date(n),a={timeZone:e.DEFAULT_TIMEZONE,hour12:!1};return t.toLocaleString(e.DEFAULT_LOCALE,a)}},{key:"init",value:function(){this._initted||(this.readMenus(console.log),this.updateControlPanel(),this._initted=!0)}},{key:"addMenuForm",value:function(){var e=new d;e.name="Menu Name",e.content="Menu Content",this._menuForms.push(e)}},{key:"removeMenuForm",value:function(e){this._menuForms.splice(e,1)}},{key:"createMenus",value:function(e){var n=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.menuForms.map((function(e){return{id:-1,name:e.name,content:e.content,createdBy:"",createdAt:0,updatedBy:"",updatedAt:0}})))},a="".concat(this._apiPath,"/menu");fetch(a,t).then((function(e){if(200!=e.status)throw e.status;return e.json()})).then((function(t){n._menuForms=[],console.log(t),e(t)})).catch((function(e){return f(a,e)}))}},{key:"readMenus",value:function(e){var n=this,t="".concat(this._apiPath,"/menu");fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!=e.status)throw e.status;return e.json()})).then((function(t){n._menuInfos=t,console.log(t),e(t)})).catch((function(e){return f(t,e)}))}},{key:"readUsers",value:function(e){var n=this,t="/user/list";fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!=e.status)throw e.status;return e.json()})).then((function(t){n._userInfos=t,console.log(t),e(t)})).catch((function(e){return f(t,e)}))}},{key:"saveMenuInfo",value:function(e,n){var t=this,a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.menuInfos[e])},r="".concat(this._apiPath,"/menu/").concat(this.menuInfos[e].id);fetch(r,a).then((function(e){if(200!=e.status)throw e.status;return e.json()})).then((function(a){t.menuInfos[e]=a,console.log(a),n(a)})).catch((function(e){return f(r,e)}))}},{key:"removeMenuInfo",value:function(e,n){var t=this,a="".concat(this._apiPath,"/menu/").concat(this.menuInfos[e].id);fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(a){t._menuInfos.splice(e,1),n()})).catch((function(e){return f(a,e)}))}},{key:"getMenuName",value:function(e){for(var n=0;n<this.menuInfos.length;++n){var t=this.menuInfos[n];if(e==t.id)return"(".concat(t.id,")").concat(t.name)}return"Unknown Menu"}},{key:"logout",value:function(){window.location.href="/login?logout"}},{key:"updateControlPanel",get:function(){return this._updateControlPanel},set:function(e){this._updateControlPanel=e}},{key:"menuForms",get:function(){return this._menuForms}},{key:"menuInfos",get:function(){return this._menuInfos}},{key:"userInfos",get:function(){return this._userInfos}}]),e}();h.DEFAULT_TIMEZONE="Asia/Taipei",h.DEFAULT_LOCALE="en-US";var v=new h,E=t(4),p=t(105),y=Object(E.a)({root:{minHeight:"32px",height:"32px"}})(p.a),b=t(99),g=Object(E.a)({root:{minWidth:90,minHeight:"32px",height:"32px",fontSize:"1.125rem",padding:8}})(b.a),C=function(e){var n=e.expanded,t=e.children;return r.a.createElement("div",null,n?t:r.a.createElement("div",null))},I=t(101),k=t(100);var F=function(){return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.addMenuForm(),v.updateControlPanel()}},"Add"))};var x=function(){return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.createMenus((function(){return v.readMenus((function(){return v.updateControlPanel()}))}))}},"Submit"))},_=t(104);var M=function(e){var n=e.index;return r.a.createElement(_.a,{id:"menu-form-name-"+n,label:"Name",defaultValue:v.menuForms[n].name,margin:"dense",onChange:function(e){var t=e.target.value;v.menuForms[n].name=t}})};var T=function(e){var n=e.index;return r.a.createElement(_.a,{id:"menuForm-content-"+n,label:"Content",defaultValue:v.menuForms[n].content,margin:"dense",onChange:function(e){var t=e.target.value;v.menuForms[n].content=t}})};var P=function(e){var n=e.index;return r.a.createElement("div",null,r.a.createElement(M,{index:n}),r.a.createElement(T,{index:n}),r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.removeMenuForm(n),v.updateControlPanel()}},"Remove"))};var j=function(){var e=v.menuForms.map((function(e,n){return r.a.createElement(P,{index:n,key:"".concat(e.name,"-").concat(e.content,"-").concat(n)})}));return r.a.createElement("div",null,e)},O=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{container:!0},r.a.createElement(I.a,{item:!0,xs:4},r.a.createElement(F,null)),r.a.createElement(I.a,{item:!0,xs:4},r.a.createElement(x,null)),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(j,null))))};var A=function(e){var n=e.index;return r.a.createElement(_.a,{id:"menuForm-name-"+n,label:"Name",defaultValue:v.menuInfos[n].name,margin:"dense",onChange:function(e){var t=e.target.value;v.menuInfos[n].name=t}})};var w=function(e){var n=e.index;return r.a.createElement(_.a,{id:"menu-form-content-"+n,label:"Content",defaultValue:v.menuInfos[n].content,margin:"dense",onChange:function(e){var t=e.target.value;v.menuInfos[n].content=t}})};var S=function(e){var n=e.index;return r.a.createElement("div",null,r.a.createElement(A,{index:n}),r.a.createElement(w,{index:n}),r.a.createElement(_.a,{id:"menuForm-created-by-"+n,label:"CreatedBy",disabled:!0,defaultValue:v.menuInfos[n].createdBy,margin:"dense"}),r.a.createElement(_.a,{id:"menuForm-created-at-"+n,label:"CreatedAt",disabled:!0,defaultValue:v.formatTime(v.menuInfos[n].createdAt),margin:"dense"}),r.a.createElement(_.a,{id:"menuForm-updated-by-"+n,label:"UpdatedBy",disabled:!0,defaultValue:v.menuInfos[n].updatedBy,margin:"dense"}),r.a.createElement(_.a,{id:"menuForm-updated-at-"+n,label:"UpdatedAt",disabled:!0,defaultValue:v.formatTime(v.menuInfos[n].updatedAt),margin:"dense"}),r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.saveMenuInfo(n,(function(){return v.readMenus((function(){return v.updateControlPanel()}))}))}},"Save"),r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.removeMenuInfo(n,(function(){return v.readMenus((function(){return v.updateControlPanel()}))}))}},"Remove"))};var N=function(){var e=v.menuInfos.map((function(e,n){return r.a.createElement(S,{index:n,key:"".concat(e.name,"-").concat(e.content,"-").concat(e.createdBy,"-").concat(e.updatedAt,"-").concat(n)})}));return r.a.createElement("div",null,e)},U=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{container:!0},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(N,null))))};var V=function(e){var n=e.index;return r.a.createElement("div",null,r.a.createElement(_.a,{id:"userForm-first-name-"+n,label:"firstName",disabled:!0,defaultValue:v.userInfos[n].firstName,margin:"dense"}),r.a.createElement(_.a,{id:"userForm-last-name-"+n,label:"lastName",disabled:!0,defaultValue:v.userInfos[n].lastName,margin:"dense"}),r.a.createElement(_.a,{id:"userForm-email-"+n,label:"email",disabled:!0,defaultValue:v.userInfos[n].email,margin:"dense"}),r.a.createElement(_.a,{id:"userForm-manager-"+n,label:"manager",disabled:!0,defaultValue:v.userInfos[n].manager?"True":"False",margin:"dense"}))};var L=function(){var e=v.userInfos.map((function(e,n){return r.a.createElement(V,{index:n,key:"".concat(e.email,"-").concat(n)})}));return r.a.createElement("div",null,e,r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.readUsers((function(){return v.readMenus((function(){return v.updateControlPanel()}))}))}},"Search"))};var B=function(){return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(e){v.logout()}},"Logout"))},D=function(){var e=Object(a.useState)(!0),n=Object(l.a)(e,2),t=n[0],o=n[1];v.updateControlPanel=function(){return o(!t)},v.init();var u=Object(a.useState)(0),i=Object(l.a)(u,2),c=i[0],m=i[1];return r.a.createElement("div",null,r.a.createElement(y,{value:c,onChange:function(e,n){m(n)},variant:"scrollable",scrollButtons:"auto",indicatorColor:"primary",textColor:"primary"},r.a.createElement(g,{label:"Create Menu",key:"select-tab-create-menust"}),r.a.createElement(g,{label:"Menu Control",key:"select-tab-menust-control"}),r.a.createElement(g,{label:"User Info",key:"select-tab-menust-control"}),r.a.createElement(g,{label:"Option",key:"select-tab-option"})),r.a.createElement(C,{expanded:0===c},r.a.createElement(O,null)),r.a.createElement(C,{expanded:1===c},r.a.createElement(U,null)),r.a.createElement(C,{expanded:2===c},r.a.createElement(L,null)),r.a.createElement(C,{expanded:3===c},r.a.createElement(B,null)))};D.whyDidYouRender=!0;var J=D,R={width:"100vw",height:"100vh"};var Z=function(){return r.a.createElement("div",{style:R},r.a.createElement(J,null))},G=t(46),H=t.n(G),q=t(47),z=Object(q.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:H.a.A400},background:{default:"#fff"}}});t(64)(r.a,{trackAllPureComponents:!0}),u.a.render(r.a.createElement(c.a,{theme:z},r.a.createElement(i.a,null),r.a.createElement(Z,null)),document.querySelector("#root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.1ac533d5.chunk.js.map